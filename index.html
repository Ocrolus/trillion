<!doctype html>
<html>
<head>
<title>Trillion</title>
<script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.js"></script>
</head>
<body>
<main>Loading&hellip;</main>
<script src="dist/trillion.js"></script>
<script src="dist/trillion-react.js"></script>
<script>

function randomDate() {
  var year = 31557600000;
  return new Date(Math.floor((Math.random() * 31557600000) + Math.floor(Math.random() * 45 * year)));
}

function testTable () {
  var carMakes = ['Mercedes-Benz', 'BMW', 'Ford', 'Chevrolet', 'Toyota', 'Nissan', 'Lamborghini', 'Ferrari'];
var data = [];

var price = 20000;

for (var i = 0; i < 1000; i++ ) {
  price += (Math.random() * 1000);
  var date = randomDate();
  data.push({
    'name': carMakes[Math.floor(carMakes.length * Math.random())] + ' ' + (100 + Math.floor(Math.random() * 800)),
    'price': Number(price).toFixed(2),
    'release': date
  });
}

var indices = [
  {
    'label': 'Name',
    'field': 'name',
    'type': String
  },
  {
    'label': 'Price',
    'field': 'price',
    'type': Number
  },
  {
    'label': 'Release date',
    'field': 'release',
    'type': Date
  },
];

var filter = new Trillion.Filter('match', 'name', 'BMW');

return {
  'data': data,
  'indices': indices,
  'filter': filter
};
}


var test = testTable();

var trillion = Trillion(test.data, test.indices, {
  'pageSize': 25
});

trillion.addFilter(test.filter);

ReactDOM.render(
  React.createElement(TrillionReact, {
    'Trillion': trillion
  }),
  document.querySelector('main'));
</script>
</body>
</html>