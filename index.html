<!doctype html>
<html>
<head>
<title>Trillion</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.js"></script>
</head>
<body style="margin: 40px">
<div class="container">
  <div class="row"><div class="col-xs-12">
  <main>Loading&hellip;</main>
  </div></div>
</div>
<script src="dist/trillion.js"></script>
<script src="dist/trillion-react.js"></script>
<script>

function randomDate() {
  var year = 31557600000;
  return new Date(Math.floor((Math.random() * 31557600000) + Math.floor(Math.random() * 45 * year)));
}

function testTable () {
  var carMakes = ['Mercedes-Benz', 'BMW', 'Ford', 'Chevrolet', 'Toyota', 'Nissan', 'Lamborghini', 'Ferrari'];
var data = [];

var price = 20000;

for (var i = 0; i < 250000; i++ ) {
  price += (Math.random() * 1000);
  var date = randomDate();
  data.push({
    'name': carMakes[Math.floor(carMakes.length * Math.random())] + ' ' + (100 + Math.floor(Math.random() * 800)),
    'price': Number(price).toFixed(2),
    'release': date
  });
}

var headers = [
  {
    'label': 'Name',
    'field': 'name',
    'type': String
  },
  {
    'label': 'Price',
    'field': 'price',
    'type': Number
  },
  {
    'label': 'Release date',
    'field': 'release',
    'type': Date
  },
];

return {
  'data': data,
  'indices': headers
};
}

var test = testTable();

var trillion = Trillion(test.data, test.indices, {
  'lazy': true,
  'pageSize': 25
});

trillion.addFilter(new Trillion.Filter('match', 'name', 'BMW'));

ReactDOM.render(
  React.createElement(TrillionReact, {
    'Trillion': trillion
  }),
  document.querySelector('main'));

for(var i = 0; i < 5; i++) {
  trillion.compute();
}

</script>
</body>
</html>